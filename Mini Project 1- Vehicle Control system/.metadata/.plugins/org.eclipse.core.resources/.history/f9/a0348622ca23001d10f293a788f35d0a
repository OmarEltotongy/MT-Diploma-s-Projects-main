/*
 ============================================================================
 Name        : Omar_Eltoutongy_mini_project.c
 Author      : Omar Eltoutongy
 Version     :
 Copyright   : Vehicle Control system from Omar Eltoutongy_
 ============================================================================
 */

#include <stdio.h>
#include <stdlib.h>
#include <ctype.h>
void Vehicle_state(char option);
void Sensor_set_Menu(char option);

int main(void)
{
	//for scanf
	setvbuf(stdout, NULL, _IONBF, 0);
	setvbuf(stderr, NULL, _IONBF, 0);
	//variables
	char option=0;
	char sensor_menu=0;

	//Ask the user if he/she wants
	printf("Please enter what u want:\nA. Turn on the vehicle engine.\n"
			"B. Turn off the vehicle engine.\nC. Quit the system.\n");

	scanf(" %c",&option);
	option = toupper(option); //to check one condition only
	//execute what he wants
	Vehicle_state(option); //function to print state as it will be repeated
	while(option !='C')
	{
		//for req3
		if(option =='B')
		{
			printf("Please enter what u want:\nA. Turn on the vehicle engine.\n"
			"B. Turn off the vehicle engine.\nC. Quit the system.\n");
			scanf(" %c",&option);
			option = toupper(option);
			Vehicle_state(option);
			if(option=='C')
				break;  //breaking the loop if he wants to quit
		}
		else if(option=='A')
		{
			do{ //select do while to at least do it once
				printf("Displaying Sensors set menu\n");
				printf("a. Turn off the engine\n"
				"b. Set the traffic light color\n"
				"c. Set the room temperature (Temperature Sensor)\n"
				"d. Set the engine temperature (Engine Temperature Sensor)\n");
				scanf(" %c",&sensor_menu);
				sensor_menu=toupper(sensor_menu);

				Sensor_set_Menu(sensor_menu); //displaying the state of the sensor menu

				if(sensor_menu=='A')
					{
						option='B';
						break; //breaking the do while loop
					}


			}while(sensor_menu != 'A'); //to check if he chooses turning off


		}


	}
}
//for vehicle state
void Vehicle_state(char option)
{
	if(option=='A')
		{
			printf("System State is: The vehicle engine is ON\n");
		}
		else if(option=='B')
		{
			printf("System State is: The vehicle engine is OFF\n");
		}
		else if(option=='C')
		{
			printf("System State is: Out  of system\n");
		}
}
//for sensor menu
void Sensor_set_Menu(char option)
{
		if(option=='A')
		{
			printf("System State is: The vehicle engine is OFF\n");
		}
		else if(option=='B')
		{
			printf("System State is: Setting the traffic light color\n");
		}
		else if(option=='C')
		{
			printf("System State is: Setting the room temperature\n");
		}
		else if(option=='D')
		{
			printf("System State is: Setting the engine temperature\n");
		}
}
